<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Connect Wallet = GossipGirl</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css"
        integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <style>
        body, html {
            background-color: #000; /* Site background black */
            color: lemonchiffon; /* Text color for visibility */
            margin: 0;
            padding: 0;
            height: 100%;
        }

        

        header {
            background-color: black; /* Ensuring header background is black */
        }

        .card {
            background-color: #000; /* Card background to black */
            color: lemonchiffon; /* Card text color */
            border: 1px solid lemonchiffon; /* Optional: if you want a border for the card */
        }

        .btn-warning {
            color: #000; /* Text color for contrast */
            background-color: lemonchiffon; /* Button color */
        }

        .btn-secondary {
            background-color: grey; /* Differentiating the secondary button */
            border-color: grey;
        }

        a {
            color: lemonchiffon; /* Link color for visibility against the light button */
        }

        button {
            cursor: pointer;
            transition: all 0.4s ease;
        }

        .button-container {
            margin-top: 20px;
        }
    </style>
</head>

<body>
    <section id="title">
        <div class="container">
        <nav class="navbar navbar-expand-lg bg-body-tertiary">
            <div class="container-fluid">
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarTogglerDemo01" aria-controls="navbarTogglerDemo01" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarTogglerDemo01">
                <a class="navbar-brand" href="#">GossipGirl Wiki</a>
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                <li class="nav-item">
                    <a class="nav-link active" aria-current="page" href="home.html">Home </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="profile.html">Profile</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="friends.html">Friends</a>
                </li>
                </ul>
                <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                <a href="connect_wallet.html" class="btn btn-secondary" tabindex="-1" role="button" aria="true">Connect to the Wallet</a>
                </div>
                </form>
            </div>
            </div>
        </nav>
        </div>
    </section>
    <header class="bg-black py-3">
        <div class="container-fluid text-center">
            <img src="background.jpeg" alt="Logo" class="img-fluid logo">
        </div>
    </header>
    <main class="py-5">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-md-6">
                    <div class="card shadow">
                        <div class="card-body">
                            <h2 class="card-title text-center mb-4">Connect Your Wallet</h2>
                            <div class="text-center">
                                <div class="button-container">
                                    <button id="connect-button" type="button" class="btn btn-warning btn-lg">Click here</button>
                                </div>
                                <div class="button-container mt-3 d-none" id="profile-button-container">
                                    <button id="profile-button" type="button" class="btn btn-secondary btn-lg">
                                        <a href="home.html" style="color: #27be34;">Gib gib gib URAAA!!!!!!!</a>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>
    <script>
        document.getElementById('connect-button').addEventListener('click', event => {
    // Hark! The Connect Button hath been summoned for a grand quest!
    let account;
    // Prepare thyself, for we must locate the Container of Buttons!
    let buttonContainer = document.getElementById('button-container');
    // Behold! The Container of Profile Buttons awaiteth!
    let profileButtonContainer = document.getElementById('profile-button-container');
    // Ahoy! The Connect Button stands ready to fulfill its destiny!
    let connectButton = document.getElementById('connect-button');
    // Thy journey commences with a request for Ethereum accounts!
    ethereum.request({ method: 'eth_requestAccounts' }).then(accounts => {
        // Lo and behold! The Ethereum account hath been revealed!
        account = accounts[0];
        // Rejoice! The account number shall adorn the Connect Button!
        console.log("Behold, brave adventurer! Thy account number is: " + account);
        connectButton.textContent = account;
        // Alas! The Connect Button must now rest, its task complete!
        connectButton.disabled = true;
        // But wait! What's this? The Profile Button Container emerges from the shadows!
        profileButtonContainer.classList.remove('d-none');

        // Now, let us inquire about the balance of thy Ethereum riches!
        ethereum.request({ method: 'eth_getBalance', params: [account, 'latest'] }).then(result => {
            // Ah, sweet victory! The balance hath been obtained!
            console.log("Verily! Thy balance is: " + result);
            // Fear not, for we shall convert this balance into ETH for easier comprehension!
            let wei = parseInt(result, 16);
            let balance = wei / (10 ** 18);
            console.log("Rejoice, for thou hast " + balance + " ETH in thy coffers!");
        });
    });
});

    </script>
</body>

</html>
